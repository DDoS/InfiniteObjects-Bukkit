name: example

variables:
  height: randomInt(32, 56)
  lowestLeafGroup: randomInt(16, 32)
  leafGroupCount: randomInt(1, 5)

lists:
  randomAngles:
    size: leafGroupCount
    value: randomFloat(0, 2 * PI)
  leafGroupsX:
    size: leafGroupCount
    value: sin(randomAngles) * randomInt(3, 7)
  leafGroupsY: 
    size: leafGroupCount
    value: lowestLeafGroup + randomInt(4, 8)
    increment: lowestLeafGroup
  leafGroupsZ:
    size: leafGroupCount
    value: cos(randomAngles) * randomInt(3, 7)
  branchBaseY:
    size: leafGroupCount
    value: leafGroupsY - 4

shapes:
  trunk:
    type: cuboid
    properties:
      width: 2
      height: height
      depth: 2
  leaves:
    type: sphere
    size: leafGroupCount
    properties:
      radius: 5
      xScale: randomInt(2, 4)
      yScale: randomInt(2, 4)
      zScale: randomInt(2, 4)

pickers:
  leavesPicker:
    type: RandomInnerOuter
    properties:
      innerMaterial: LEAVES.3
      innerOdd: 100
      outerMaterial: LEAVES.3
      outerOdd: 50

build:
  - place(trunk, LOG.3, 0, 0, 0)
  - place(leaves, leavesPicker, leafGroupsX, leafGroupsY, leafGroupsZ)
  - trace(0, branchBaseY, 0, leafGroupsX, leafGroupsY, leafGroupsZ, LOG.3)
