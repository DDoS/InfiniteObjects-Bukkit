name: tree

variables:
  height: ranI=25-30
  minLeafHeight: ranI=7-10
  
materials:
  leaves:
    type: simple
    properties:
      material: Leaves
      data: 3
  wood:
    type: simple
    properties:
      material: Wood
      data: 3
  
instructions:
  leafPod:
    type: place
    variables:
      angle: ranF(0, 2) * PI
      offsetX: sin(angle) * 6
      offsetZ: cos(angle) * 6
    shapes:
      leafPod:
        type: sphere
        properties:
          size:
            x: ranI=2-4
            y: ranI=2-4
            z: ranI=2-4
        position:
          x: offsetX
          y: minLeafHeight
          z: offsetZ
        material: leaves
      branch:
        type: line
        properties:
          length:
            x: offsetX
            y: 3
            z: offsetZ
        position:
          x: 0
          y: minLeafHeight - 3
          z: 0
        material: wood
  leafPods:
    type: repeat
    repeat: leafPod
    times: ranI=5-8
    increment:
      minLeafHeight: ranI=1-3
  main:
    type: place
    shapes:
      canopy:
        type: sphere
        properties:
          size:
            x: ranI=5-6
            y: ranI=1-2
            z: ranI=5-6
        position:
          x: 0
          y: height + 1
          z: 0
        material: leaves
      trunk:
        type: cuboid
        properties:
          width: 2
          height: height
          depth: 2
        position:
          x: 0
          y: 0
          z: 0
        material: wood
